

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to configure a solver in PuLP &mdash; PuLP 2.9.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=182a64a0"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to warm-start a solver" href="how_to_mip_start.html" />
    <link rel="prev" title="User Guides" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            PuLP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../main/index.html">Main Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CaseStudies/index.html">Case Studies</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guides</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to configure a solver in PuLP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#checking-which-solvers-pulp-has-access-to">Checking which solvers PuLP has access to</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-an-environment-variable">What is an environment variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#types-of-pulp-integrations-api-to-solvers">Types of PuLP integrations (API) to solvers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-path-to-the-solver">Configuring the path to the solver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-environment-variables-per-solver">Additional environment variables per solver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cplex">CPLEX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gurobi">GUROBI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-where-the-cmd-solvers-write-their-temporary-files">Configuring where the CMD solvers write their temporary files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-official-solver-api">Using the official solver API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-cplex-py">Installing CPLEX_PY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-gurobi">Installing GUROBI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-solver-specific-functionality">Using solver-specific functionality</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#importing-and-exporting-a-solver">Importing and exporting a solver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how_to_mip_start.html">How to warm-start a solver</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_elastic_constraints.html">Elastic Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_export_models.html">How to import and export models in PuLP</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_debug.html">How to debug most errors during solving</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../develop/index.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technical/index.html">PuLP Internal Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PuLP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">User Guides</a></li>
      <li class="breadcrumb-item active">How to configure a solver in PuLP</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/guides/how_to_configure_solvers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-configure-a-solver-in-pulp">
<h1>How to configure a solver in PuLP<a class="headerlink" href="#how-to-configure-a-solver-in-pulp" title="Link to this heading"></a></h1>
<p>A typical problem PuLP users have is trying to connect to a solver that is installed in their pc. Here, we show the main concepts and ways to be sure PuLP can talk to the solver in question.</p>
<section id="checking-which-solvers-pulp-has-access-to">
<h2>Checking which solvers PuLP has access to<a class="headerlink" href="#checking-which-solvers-pulp-has-access-to" title="Link to this heading"></a></h2>
<p>PuLP has some helper functions that permit a user to query which solvers are available and initialize a solver from its name.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">solver_list</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">listSolvers</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">solver_list</span><span class="p">)</span>
<span class="c1"># [&#39;GLPK_CMD&#39;, &#39;PYGLPK&#39;, &#39;CPLEX_CMD&#39;, &#39;CPLEX_PY&#39;, &#39;CPLEX_DLL&#39;, &#39;GUROBI&#39;, &#39;GUROBI_CMD&#39;, &#39;MOSEK&#39;, &#39;XPRESS&#39;, &#39;PULP_CBC_CMD&#39;, &#39;COIN_CMD&#39;, &#39;COINMP_DLL&#39;, &#39;CHOCO_CMD&#39;, &#39;MIPCL_CMD&#39;, &#39;SCIP_CMD&#39;]</span>
</pre></div>
</div>
<p>If passed the <cite>onlyAvailable=True</cite> argument, PuLP lists the solvers that are currently available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">solver_list</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">listSolvers</span><span class="p">(</span><span class="n">onlyAvailable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">solver_list</span><span class="p">)</span>
<span class="c1"># [&#39;GLPK_CMD&#39;, &#39;CPLEX_CMD&#39;, &#39;CPLEX_PY&#39;, &#39;GUROBI&#39;, &#39;GUROBI_CMD&#39;, &#39;PULP_CBC_CMD&#39;, &#39;COIN_CMD&#39;]</span>
</pre></div>
</div>
<p>Also, it’s possible to get a solver object by using the name of the solver. Any arguments passed to this function are passed to the constructor:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">getSolver</span><span class="p">(</span><span class="s1">&#39;CPLEX_CMD&#39;</span><span class="p">)</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">getSolver</span><span class="p">(</span><span class="s1">&#39;CPLEX_CMD&#39;</span><span class="p">,</span> <span class="n">timeLimit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>In the next sections, we will explain how to configure a solver to be accessible by PuLP.</p>
</section>
<section id="what-is-an-environment-variable">
<h2>What is an environment variable<a class="headerlink" href="#what-is-an-environment-variable" title="Link to this heading"></a></h2>
<p>An environment variable is probably better explained <a class="reference external" href="https://en.wikipedia.org/wiki/Environment_variable">somewhere else</a>. For the sake of this document, it is a text value stored during your session that allows you to configure some applications that make use of them. For example, when you write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span>
</pre></div>
</div>
<p>in your command line, it usually opens a python console. But how did your computer know where to find python? It knew because there is an environment variable call “PATH” that stores a list of locations in your hard-drive where your pc looks for executables that match the thing you write.</p>
<p>It has many advantages such as not leaving any trace in the pc and being fairly cross-platform, among many others.</p>
</section>
<section id="types-of-pulp-integrations-api-to-solvers">
<h2>Types of PuLP integrations (API) to solvers<a class="headerlink" href="#types-of-pulp-integrations-api-to-solvers" title="Link to this heading"></a></h2>
<p>API means “Application Programming Interface”. PuLP has usually several ways to connect to solvers. Depending on the way it connects to the solver, configuring the connection may vary. We can summarize the integrations in two big groups:</p>
<ul class="simple">
<li><p>Using the command line interface of the solver.</p></li>
<li><p>Using the python library of the solver.</p></li>
</ul>
<p>Not all solvers have a python library, but most have a command line interface. If you want to know which one are you using it’s easy. If the name of the solver API ends with <code class="docutils literal notranslate"><span class="pre">CMD</span></code> (such as <code class="docutils literal notranslate"><span class="pre">PULP_CBC_CMD</span></code>, <code class="docutils literal notranslate"><span class="pre">CPLEX_CMD</span></code>, <code class="docutils literal notranslate"><span class="pre">GUROBI_CMD</span></code>, etc.) it’s the former. Otherwise, it is the latter.</p>
</section>
<section id="configuring-the-path-to-the-solver">
<h2>Configuring the path to the solver<a class="headerlink" href="#configuring-the-path-to-the-solver" title="Link to this heading"></a></h2>
<p>In order for PuLP to be able to use a solver via the CMD API, the solver needs to be executed by PuLP via the command line. For this to happen one of two things is needed:</p>
<ol class="arabic simple">
<li><p>The user passes the path to the solver to the solver initialization.</p></li>
<li><p>The user has configured the PATH environment variable to the directory where the solver is.</p></li>
</ol>
<p><strong>We will do the example for CPLEX in Windows, but the idea is the same for other solvers and other Operating Systems</strong>.</p>
<p>Both options imply knowing where the solver is. So first we have to go look for it in the pc. Mine is in <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\IBM\ILOG\CPLEX_Studio128\cplex\bin\x64_win64\cplex.exe</span></code>.</p>
<p>Imagine using the <code class="docutils literal notranslate"><span class="pre">CPLEX_CMD</span></code> solver, the first one is really simple:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path_to_cplex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;C:\Program Files\IBM\ILOG\CPLEX_Studio128\cplex\bin\x64_win64\cplex.exe&#39;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">CPLEX_CMD</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path_to_cplex</span><span class="p">)</span>
<span class="n">_var</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">_var2</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">+=</span> <span class="n">_var</span> <span class="o">+</span> <span class="n">_var2</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
</pre></div>
</div>
<p>The only thing to do was to look for the ‘cplex.exe’ file (if you’re in Windows, for Linux and Mac you look for the ‘cplex’ file) and pass the absolute path to the solver.</p>
<p>The second one is a little more cumbersome but you only do it once per machine. You need to configure the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable to include the path to the <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\IBM\ILOG\CPLEX_Studio128\cplex\bin\x64_win64</span></code> directory.</p>
<p>Here is one random guide to editing environment variables in: <a class="reference external" href="https://opentechguides.com/how-to/article/windows-10/113/windows-10-set-path.html">Windows</a> and <a class="reference external" href="https://askubuntu.com/questions/730/how-do-i-set-environment-variables">Linux or Mac</a>. The idea is that once it is correctly configured you can forget about it (until you change pc or solver version).</p>
<p>Once we have done that, we just do something very similar to the previous example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">CPLEX_CMD</span><span class="p">()</span>
<span class="n">_var</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">_var2</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">+=</span> <span class="n">_var</span> <span class="o">+</span> <span class="n">_var2</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
</pre></div>
</div>
<p>The only difference is that we do not need to tell PuLP where the solver is. The system will find it using the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable just as the <code class="docutils literal notranslate"><span class="pre">python</span></code> example above. Magic!</p>
</section>
<section id="additional-environment-variables-per-solver">
<h2>Additional environment variables per solver<a class="headerlink" href="#additional-environment-variables-per-solver" title="Link to this heading"></a></h2>
<p>Sometimes, giving the path to the solver is not enough. This can be because the solver needs to know where other files are found (dynamic libraries it will use when running) or the PuLP API needs to import some specific python packages that are deployed with the solver (in case of the solvers that do not have a <code class="docutils literal notranslate"><span class="pre">_CMD</span></code> at the end).</p>
<p>Whatever the reason, it’s better to be safe than sorry and this means knowing what variables are usually used by which solver. Here are the necessary environment variables that are needed for each solver. The procedure is very similar to what we did with the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable: sometimes you need to edit an existing environment variable and sometimes you need to create a new environment variable. So it looks explicit, I will be using my own paths to variables, but you will have to adapt them to your actual paths (e.g., if the version of the solver is not the same). I will be using my <strong>Linux paths, since it just implies copying the last lines of my ~.bashrc file</strong>. I’ve adapted them to the Windows command line but, preferably, you would like to edit them via the GUI in windows.</p>
<section id="cplex">
<h3>CPLEX<a class="headerlink" href="#cplex" title="Link to this heading"></a></h3>
<p><strong>Linux / Mac</strong>: add the following lines to the ~.bashrc (or ~.profile or /etc/profile or /etc/bash.bashrc) file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CPLEX_HOME</span><span class="o">=</span><span class="s2">&quot;/opt/ibm/ILOG/CPLEX_Studio128/cplex&quot;</span>
<span class="n">export</span> <span class="n">CPO_HOME</span><span class="o">=</span><span class="s2">&quot;/opt/ibm/ILOG/CPLEX_Studio128/cpoptimizer&quot;</span>
<span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{PATH}</span><span class="s2">:$</span><span class="si">{CPLEX_HOME}</span><span class="s2">/bin/x86-64_linux:$</span><span class="si">{CPO_HOME}</span><span class="s2">/bin/x86-64_linux&quot;</span>
<span class="n">export</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{LD_LIBRARY_PATH}</span><span class="s2">:$</span><span class="si">{CPLEX_HOME}</span><span class="s2">/bin/x86-64_linux:$</span><span class="si">{CPO_HOME}</span><span class="s2">/bin/x86-64_linux&quot;</span>
<span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{PYTHONPATH}</span><span class="s2">:/opt/ibm/ILOG/CPLEX_Studio128/cplex/python/3.5/x86-64_linux&quot;</span>
</pre></div>
</div>
<p><strong>Windows</strong>: add the following environment variables (via the command line or the graphical user interface):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">CPLEX_HOME</span><span class="o">=</span><span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">Program</span> <span class="n">Files</span><span class="o">/</span><span class="n">IBM</span><span class="o">/</span><span class="n">ILOG</span><span class="o">/</span><span class="n">CPLEX_Studio128</span><span class="o">/</span><span class="n">cplex</span>
<span class="nb">set</span> <span class="n">CPO_HOME</span><span class="o">=</span><span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">Program</span> <span class="n">Files</span><span class="o">/</span><span class="n">IBM</span><span class="o">/</span><span class="n">ILOG</span><span class="o">/</span><span class="n">CPLEX_Studio128</span><span class="o">/</span><span class="n">cpoptimizer</span>
<span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">CPLEX_HOME</span><span class="o">%/</span><span class="nb">bin</span><span class="o">/</span><span class="n">x64_win64</span><span class="p">;</span><span class="o">%</span><span class="n">CPO_HOME</span><span class="o">%/</span><span class="nb">bin</span><span class="o">/</span><span class="n">x64_win64</span>
<span class="nb">set</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=%</span><span class="n">LD_LIBRARY_PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">CPLEX_HOME</span><span class="o">%/</span><span class="nb">bin</span><span class="o">/</span><span class="n">x64_win64</span><span class="p">;</span><span class="o">%</span><span class="n">CPO_HOME</span><span class="o">%/</span><span class="nb">bin</span><span class="o">/</span><span class="n">x64_win64</span>
<span class="nb">set</span> <span class="n">PYTHONPATH</span><span class="o">=%</span><span class="n">PYTHONPATH</span><span class="o">%</span><span class="p">;</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ibm</span><span class="o">/</span><span class="n">ILOG</span><span class="o">/</span><span class="n">CPLEX_Studio128</span><span class="o">/</span><span class="n">cplex</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="mf">3.5</span><span class="o">/</span><span class="n">x64_win64</span>
</pre></div>
</div>
</section>
<section id="gurobi">
<h3>GUROBI<a class="headerlink" href="#gurobi" title="Link to this heading"></a></h3>
<p><strong>Linux / Mac</strong>: add the following lines to the ~.bashrc (or ~.profile or /etc/profile or /etc/bash.bashrc) file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">GUROBI_HOME</span><span class="o">=</span><span class="s2">&quot;/opt/gurobi801/linux64&quot;</span>
<span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{PATH}</span><span class="s2">:$</span><span class="si">{GUROBI_HOME}</span><span class="s2">/bin&quot;</span>
<span class="n">export</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{LD_LIBRARY_PATH}</span><span class="s2">:$</span><span class="si">{GUROBI_HOME}</span><span class="s2">/lib&quot;</span>
</pre></div>
</div>
<p><strong>Windows</strong>: add the following environment variables (via the command line or graphical user interface):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">GUROBI_HOME</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">gurobi801</span><span class="o">/</span><span class="n">linux64</span>
<span class="nb">set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">GUROBI_HOME</span><span class="o">%/</span><span class="nb">bin</span>
<span class="nb">set</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=%</span><span class="n">LD_LIBRARY_PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">GUROBI_HOME</span><span class="o">%/</span><span class="n">lib</span>
</pre></div>
</div>
</section>
</section>
<section id="configuring-where-the-cmd-solvers-write-their-temporary-files">
<h2>Configuring where the CMD solvers write their temporary files<a class="headerlink" href="#configuring-where-the-cmd-solvers-write-their-temporary-files" title="Link to this heading"></a></h2>
<p>In the case of solver APIs that use the command line (again, those that end in <code class="docutils literal notranslate"><span class="pre">CMD</span></code>), sometimes a user wants to control where the files are written. There are plenty of options.</p>
<p>By default, PuLP does not keep the intermediary files (the *.mps, *.lp, *.mst, *.sol) and they are written in a temporary directory of the operating system. PuLP looks for the TEMP, TMP and TMPDIR environment variables to write the file (in that order). After using them, PuLP deletes them. If you change any of these environment variables before solving, you should be able to choose where you want PuLP to write the results.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">_var</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">_var2</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">+=</span> <span class="n">_var</span> <span class="o">+</span> <span class="n">_var2</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">PULP_CBC_CMD</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
</pre></div>
</div>
<p>Another option, is passing the argument <cite>keepFiles=True</cite> to the solver. With this, the solver creates the files in the current directory and they are not deleted (although they will be overwritten if you re-execute).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">_var</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">_var2</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">+=</span> <span class="n">_var</span> <span class="o">+</span> <span class="n">_var2</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">PULP_CBC_CMD</span><span class="p">(</span><span class="n">keepFiles</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, one can manually edit the tmpDir attribute of the solver object before actually solving.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">_var</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">_var2</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">+=</span> <span class="n">_var</span> <span class="o">+</span> <span class="n">_var2</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">PULP_CBC_CMD</span><span class="p">()</span>
<span class="n">solver</span><span class="o">.</span><span class="n">tmpDir</span> <span class="o">=</span> <span class="s1">&#39;PUT_SOME_ALTERNATIVE_PATH_HERE&#39;</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="using-the-official-solver-api">
<h2>Using the official solver API<a class="headerlink" href="#using-the-official-solver-api" title="Link to this heading"></a></h2>
<p>PuLP has the integrations with the official python API solvers for the following solvers:</p>
<ul class="simple">
<li><p>Mosek (MOSEK)</p></li>
<li><p>Gurobi (GUROBI)</p></li>
<li><p>Cplex (CPLEX_PY)</p></li>
<li><p>Xpress (XPRESS_PY)</p></li>
<li><p>HiGHS (HiGHS)</p></li>
<li><p>SCIP (SCIP_PY)</p></li>
<li><p>XPRESS (XPRESS_PY)</p></li>
<li><p>COPT (COPT)</p></li>
</ul>
<p>These API offer a series of advantages over using the command line option:</p>
<ul class="simple">
<li><p>They are usually faster to initialize a problem (they do not involve writing files to disk).</p></li>
<li><p>They offer a lot more functionality and information (extreme rays, dual prices, reduced costs).</p></li>
</ul>
<section id="installing-cplex-py">
<h3>Installing CPLEX_PY<a class="headerlink" href="#installing-cplex-py" title="Link to this heading"></a></h3>
<p>For this solver to work there are two options:</p>
<ol class="arabic simple">
<li><p>Installing the python package that comes with the CPLEX installation (it is not installed automatically).</p></li>
<li><p>(<strong>recomended</strong>) Adding the path to the package to the <code class="docutils literal notranslate"><span class="pre">PYTHON_PATH</span></code> environment variable.</p></li>
</ol>
<p>The second step is already shown in the example above. The first one requires admin rights, the second one does not.</p>
</section>
<section id="installing-gurobi">
<h3>Installing GUROBI<a class="headerlink" href="#installing-gurobi" title="Link to this heading"></a></h3>
<p>For this solver to work, the only option is to install the python package that comes with the gurobi installation.</p>
<p>Following my installation paths it would be (Linux):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">gurobi801</span><span class="o">/</span><span class="n">linux64</span><span class="o">/</span>
<span class="n">sudo</span> <span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>As you can see, it is necessary to have admin rights to install it.</p>
</section>
<section id="using-solver-specific-functionality">
<span id="solver-specific-config"></span><h3>Using solver-specific functionality<a class="headerlink" href="#using-solver-specific-functionality" title="Link to this heading"></a></h3>
<p>In order to access this functionality, the user needs to use the solver object included inside the PuLP problem. PuLP uses the <code class="docutils literal notranslate"><span class="pre">solverModel</span></code> attribute on the problem object. This attribute is created and filled when the method <code class="docutils literal notranslate"><span class="pre">buildSolverModel()</span></code> is executed.</p>
<p>For example, using the <code class="docutils literal notranslate"><span class="pre">CPLEX_PY</span></code> API we can access the api object after the solving is done:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lowBound</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">pulp</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">prob</span> <span class="o">+=</span> <span class="n">x</span>

<span class="n">solver</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">CPLEX_PY</span><span class="p">()</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">prob</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
<span class="c1"># you can now access the information from the cplex API python object</span>
<span class="n">prob</span><span class="o">.</span><span class="n">solverModel</span>
</pre></div>
</div>
<p>Also, you can access the python api object before solving by using the lower-level methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">LpVariable</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">lowBound</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">prob</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">LpProblem</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">pulp</span><span class="o">.</span><span class="n">LpMinimize</span><span class="p">)</span>
<span class="n">prob</span> <span class="o">+=</span> <span class="n">x</span>

<span class="n">solver</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">CPLEX_PY</span><span class="p">()</span>
<span class="n">solver</span><span class="o">.</span><span class="n">buildSolverModel</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>
<span class="c1"># you can now edit the object or do something with it before solving</span>
<span class="c1"># for example, load a MIP_START file for CPLEX_PY:</span>
<span class="n">solver</span><span class="o">.</span><span class="n">solverModel</span><span class="o">.</span><span class="n">MIP_starts</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">SOME_MST_FILE</span><span class="p">)</span>
<span class="c1"># the, you can call the solver to solve the problem</span>
<span class="n">solver</span><span class="o">.</span><span class="n">callSolver</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>
<span class="c1"># finally, you fill the PuLP variables with the solution</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">findSolutionValues</span><span class="p">(</span><span class="n">prob</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information on how to use the <cite>solverModel</cite>, one needs to check the official documentation depending on the solver.</p>
</section>
</section>
<section id="importing-and-exporting-a-solver">
<h2>Importing and exporting a solver<a class="headerlink" href="#importing-and-exporting-a-solver" title="Link to this heading"></a></h2>
<p>Exporting a solver can be useful to backup the configuration that was used to solve a model.</p>
<p>In order to export it one needs can export it to a dictionary or a json file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">PULP_CBC_CMD</span><span class="p">()</span>
<span class="n">solver_dict</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">toDict</span><span class="p">()</span>
</pre></div>
</div>
<p>The structure of the returned dictionary is quite simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;keepFiles&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s1">&#39;mip&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;msg&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;options&#39;</span><span class="p">:</span> <span class="p">[],</span>
 <span class="s1">&#39;solver&#39;</span><span class="p">:</span> <span class="s1">&#39;PULP_CBC_CMD&#39;</span><span class="p">,</span>
 <span class="s1">&#39;timeLimit&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
 <span class="s1">&#39;warmStart&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
<p>It’s also possible to export it directly to a json file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">solver</span><span class="o">.</span><span class="n">toJson</span><span class="p">(</span><span class="s2">&quot;some_file_name.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In order to import it, one needs to do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">getSolverFromDict</span><span class="p">(</span><span class="n">solver_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>Or from a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pulp</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pulp</span><span class="o">.</span><span class="n">getSolverFromJson</span><span class="p">(</span><span class="s2">&quot;some_file_name.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For json, we use the base <cite>json</cite> package. But if <cite>ujson</cite> is available, we use that so the import / export can be really fast.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="User Guides" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="how_to_mip_start.html" class="btn btn-neutral float-right" title="How to warm-start a solver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2009-, pulp documentation team..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>